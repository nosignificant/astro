---
import MainLayout from "../../layouts/main-layout.astro";

const posts = Object.entries(
  import.meta.glob("../../content/note/**/*.md", { eager: true })
).map(([path, module]: [string, any]) => {
  const slug = path.replace("../../content/note/", "").replace(/\.md$/, "");
  return {
    title: module.frontmatter.title,
    url: `/note/${slug}`,
  };
});
---

<MainLayout>
  <h1 class="text-xl font-bold mb-4">note</h1>
  <ul class="space-y-2">
    {
      posts.map(({ url, title }) => (
        <li>
          <a href={url}>{title}</a>
        </li>
      ))
    }
  </ul>
</MainLayout>
